<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        body{
            width: 100%;
            height: 100%;
            padding: 0;
            margin: 0;
        }
    </style>
</head>
<body>
<div id="container" style="width:100%;height:100vh;position:relative; overflow: hidden;"></div>

<script src="js/three.js"></script>
<script src="js/three.orbitcontrols.js"></script>
<script src="js/d3-array.v1.min.js"></script>
<script src="js/d3-geo.v1.min.js"></script>
<script src="js/tween.min.js"></script>
<script>
    let renderer, camera, scene, light, controls;
    this.contains = document.querySelector('#container');
    //渲染器（必要）
    function initRender(){
        //创建渲染器
        this.renderer = new THREE.WebGLRenderer();
        //设置渲染器的大小
        this.renderer.setSize(this.contains.clientWidth,this.contains.clientHeight);
        //将渲染器添加到容器中
        this.contains.appendChild(this.renderer.domElement);
        //设置渲染器的背景颜色
    };
    //场景（必要）
    function initScene(){
        //创建场景
        this.scene = new THREE.Scene();
    }
    //相机（必要）
    function initCamera() {
        //创建一个相机（包括相机的角度、画布比例、最近、最远）
        this.camera = new THREE.PerspectiveCamera(45,this.contains.clientWidth/this.contains.clientHeight,1,10000);
        //设置相机的位置 x,y,z
        this.camera.position.set( -5, 0, 300);
        //设置相机的up x,y,z
        //设置的lookAt  x,y,z
        this.camera.lookAt( 0, 3, 0 );
        // window.camera = camera;
    }
    //物品（必要)
    function initObject(){
        //创建一个物体
        let geometry = new THREE.BoxGeometry(100,100,100);
        //实现一个物体
        var material = new THREE.MeshLambertMaterial({
            //color: 0xffff00,
            vertexColors: THREE.VertexColors, //以顶点颜色为准
            side: THREE.DoubleSide, //两面可见
        });
        this.object= new THREE.Mesh(geometry,material);

        //封装物体（可封也可不封，视情况而定）
        //创建Object3D对象
        //添加物体到Object3D对象

        //将最终的物体添加到场景中
        this.scene.add(this.object);

    }
    //光源（不一定需要）

    function initLight(){
        //创建一个光源
        light = new THREE.AmbientLight(0xffffff);
        //设置光源的位置
        //light.position.set(100,100,200);
        //将光源添加到场景中
        this.scene.add(light);
    }
    //渲染(必要)
    function animation(){
        //清除渲染器的背景
        //物体的运动方式
        //渲染器调用render函数，将场景和相机作为参数
        this.renderer.render(this.scene,this.camera);
        //调用requestAnimationFrame函数循环此渲染函数。
        requestAnimationFrame(animation);
    }

    //入口
    function init(){
        initRender();//渲染器
        initScene();//场景
        initCamera();//相机
        initObject();//物体
        initLight();//光源
        animation();//渲染
    }

    init();
</script>
</body>
</html>